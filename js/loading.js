document.addEventListener("DOMContentLoaded",async()=>{let e=document.querySelector("#loading"),n=(e.addEventListener("animationend",()=>{document.querySelector("header").style.zIndex="1000"}),e.querySelector("#loading-filter"));function o(n=500){return new Promise((e,o)=>{setTimeout(()=>e(),t(n,700))})}function t(e,o=0){return o+parseInt(Math.random()*(e-o)+1)}function r(){return[t(255),t(255),t(255)]}n.addEventListener("animationend",()=>{e.classList.add("animate-disappear")});let a=!1;function i(r,a){return new Promise(async(t,e)=>{for(let n in r){let o=r[n];r[n]=!1,elem=a(o),await new Promise(e=>{elem.onload=()=>{console.log(o+" finished downloading"),r[n]=!0,null==r.find(e=>0==e)&&t(),e()}})}})}(async()=>{let e=0;for(;!a;){var o=r();n.style.borderTopColor=`rgb(${o[0]}, ${o[1]}, ${o[2]})`,o=r(),n.style.borderRightColor=`rgb(${o[0]}, ${o[1]}, ${o[2]})`,o=r(),n.style.borderBottomColor=`rgb(${o[0]}, ${o[1]}, ${o[2]})`,o=r(),n.style.borderLeftColor=`rgb(${o[0]}, ${o[1]}, ${o[2]})`,await new Promise((e,o)=>{setTimeout(()=>e(),100)}),e+=1}})();var l=document.querySelector("#loading-message");l.innerText="making it look nice",await i(["index","gallery","filter","export","cursor","media"],e=>{var o=document.createElement("link");return o.rel="stylesheet",o.href=`css/${e}.css`,document.querySelector("head").appendChild(o),o}),await o(),console.log("STYLES LOADED");l.innerText="making it interactive",await o(),await i(["foundation"],e=>{var o=document.createElement("script");return o.src=`js/${e}.js`,document.querySelector("body").appendChild(o),o}),console.log("SCRIPTS LOADED"),l.innerText="loading essential images",await o(),await new Promise((e,o)=>{var n=document.querySelector(".row img");console.log(n),console.log(n.complete),n.complete?(console.log("already cached"),e()):(console.log("not cached"),n.onload=()=>{e()})}),a=!0,l.innerText="experience ready",n.classList.add("animate-borderr")}),window.onload=()=>{};